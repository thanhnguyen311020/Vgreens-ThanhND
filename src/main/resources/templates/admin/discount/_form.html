<div class="row mt-2">
    <div class="col-md-12">


        <div class="card">
            <div class="card-header">
                <h5>Thêm mới khuyến mãi</h5>

                <button id="_list" ng-click="initialize()">Danh sách khuyến mãi</button>
            </div>

            <form method="POST" name="discountForm" novalidate>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <!-- <div class="form-group">
                                <label for="id">Mã khuyến mãi</label>
                                <input ng-disabled="true" type="text" class="form-control" ng-value="form.id"
                                    aria-describedby="helpId" placeholder="">
                                <small id="helpId" class="form-text text-muted">Help
                                    text</small>
                            </div> -->
                            <div class="form-group">
                                <label for="id">Tên khuyến mãi</label>
                                <input ng-model="form.name_discount" type="text" class="form-control" name="name" id="name"
                                    aria-describedby="helpId" placeholder="" minlength="1"
                                    ng-required=true>
                                    <small id="helpId" ng-show="discountForm.name.$error.required" class="form-text text-muted"><i class="fa fa-exclamation-circle" aria-hidden="true"></i> Vui lòng nhập tiêu đề </small>
                            </div>

                            <!-- <div class="form-group">
                                <label for="product">Lô sản phẩm</label>
                                <select class="form-control" ng-model="form.consignment.id" id="products" name="products" required>
                                  <option value="" selected>Sản phẩm</option>
                                  <option ng-repeat="c in consignments" ng-value="c.id">{{c.name}} - {{c.product.name}}</option>
                  
                  
                                </select>
                             
                                  <small class="error" ng-show="productForm.categories.$error.required"><i class="fa fa-exclamation-circle" aria-hidden="true"></i> Vui lòng chọn loại sản phẩm</small>
                             
                              </div>                     -->

                            <div class="input-group mb-3">
                                <div class="input-group-prepend">
                                    <span class="input-group-text">Khuyến mãi</span>
                                </div>
                                <input ng-model="form.percent_discount" type="number" class="form-control" name="percent_discount" id="percent_discount"
                                    aria-label="Amount (to the nearest dollar)" min="0"
                                    ng-required=true>
                                <div class="input-group-append">
                                    <span class="input-group-text">%</span>
                                </div>
                                <div class="validateMessage">
                                    <small id="helpId" ng-show="discountForm.percent_discount.$error.required" class="form-text text-muted"><i class="fa fa-exclamation-circle" aria-hidden="true"></i> Vui lòng nhập % khuyến mãi</small>
                                    <small id="helpId" ng-show="discountForm.percent_discount.$error.min" class="form-text text-muted"><i class="fa fa-exclamation-circle" aria-hidden="true"></i> Số lớn hơn 0</small>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="startDate">Ngày bắt dầu</label>
                                <input type="datetime-local"
                                  class="form-control" ng-model="form.startDate" name="startDate" id="startDate" aria-describedby="helpId" placeholder="" ng-required=true>
                                  <small id="helpId" ng-show="discountForm.startDate.$error.required" class="form-text text-muted"><i class="fa fa-exclamation-circle" aria-hidden="true"></i> Vui lòng nhập ngày bắt đầu</small>
                              </div>
    
                              <div class="form-group">
                                <label for="endDate">Ngày kết thúc</label>
                                <input type="datetime-local" ng-model="form.endDate" ng-change="chooseDate()"
                                  class="form-control" name="endDate" id="endDate" aria-describedby="helpId" placeholder="" ng-required=true>
                                  <small id="helpId" ng-show="discountForm.endDate.$error.required" class="form-text text-muted"><i class="fa fa-exclamation-circle" aria-hidden="true"></i> Vui lòng nhập ngày kết thúc</small>
                              </div>
                        </div>

                        <div class="col-md-6">
                            <div class="form-group input-image">
                                <label for="image" ng-if="!form.discount_image.startsWith('https')">
                                    <img ng-show="form.img == null" src="/images/no_image.png" alt="">
                                    <img ng-show="form.img != null " ng-src="{{'/upload/imageTemp/' + imageTemp}}"
                                        alt="">

                                </label>
                                <label for="image" ng-if="form.discount_image.startsWith('https')">
                                    <img ng-show="form.img == null" ng-src="{{form.discount_image}}" alt="">
                                    <img ng-show="form.img != null " ng-src="{{'/upload/imageTemp/' + imageTemp}}"
                                        alt="">
                                </label>
                                <input type="file" class="form-control-file" name="image" id="image" placeholder=""
                                    onchange="angular.element(this).scope().imageChanged(this.files)">
                            </div>

                        

                            <!-- <label for="">Trạng thái</label>
                            <span style="color: red;">*</span>
                            <div class="card">

                                <div class="form-check form-check-inline">
                                    <input ng-model="form.status" name="status2" class="form-check-input" type="radio" ng-value="true">
                                    <label class="form-check-label" for="status2" >Enable</label>
                                    <input ng-model="form.status" name="status1" class="form-check-input ml-5" type="radio"
                                        ng-value="false">
                                    <label class="form-check-label" for="status1">Disable</label>
                                </div>

                            </div> -->

                            <div class="form-group">
                                <label for="">Trạng thái<span ng-show="discountForm.status.$error.required" class="has-error font-italic">*
                                </span></label> <br>
                                <div class="form-check form-check-inline">
                                  <label class="form-check-label">
                                    <input ng-model="form.status" ng-value="true" class="form-check-input" type="radio" id="status" name="status" required
                                       value="checkedValue"> Bắt đầu
                                  </label>
                                </div>
                                <div class="form-check form-check-inline">
                                  <label class="form-check-label">
                                    <input ng-model="form.status" ng-value="false" class="form-check-input" type="radio"  id="status" name="status" required
                                       value="checkedValue"> Kết thúc
                                  </label>
                                </div>


                        </div>
                       
                    </div>
                    <div class="col-md-12">
                        <div class="form-group">
                          <label for="descreption" >Mô tả</label>
                          <textarea class="form-control" ng-model="form.discount_description" name="descreption"  id="descreption"  rows="3"></textarea>
                        </div>
                    </div>
                </div>
                <div class="card-footer text-muted">
                    <button type="button" class="btn btn-primary" ng-disabled="discountForm.$invalid" id="btnDelete" disabled ng-show="!isShow" ng-click="create()">Thêm
                        mới</button>
                    <button type="button" class="btn btn-warning" ng-disabled="discountForm.$invalid" id="btnUpdate" disabled ng-show="isShow" ng-click="update()">Cập nhập</button>
                    <button type="button" class="btn btn-success" ng-click="reset()">Làm mới</button>
                    <button th:if="${#request.isUserInRole('DIRE')}" type="button" class="btn btn-danger" ng-show="isShow" ng-click="selectItem(form)" data-toggle="modal" data-target="#deleteItem">Xóa</button>

                </div>
        </div>

        </form>

    </div>
</div>