<html>

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.3/angular.js"></script>
    <title></title>
    <script type='text/javascript'>

        var app = angular.module('fileDemo', []);

        app.controller("getFilePath-ctrl", function ($scope) {
            $scope.getPath = function () {
                $scope.path = $('#f1').val();
                console.log("OK", $scope.path)
            }
        })

        app.directive('fdInput', ['$timeout', function ($timeout) {
            return {
                link: function (scope, element, attrs) {
                    element.on('change', function (evt) {
                        scope.path = $('#f1').val();
                        console.log("OK", scope.path)
                        alert("File ", evt.target.files[0].name);
                        alert($('#f1').files[0]);
                    });
                }
            }
        }]);


    </script>
</head>

<body>
    <div ng-app="fileDemo" ng-controller="getFilePath-ctrl">
        <input type="file" id="f1" fd-input />
        <button ng-click="getPath()">Click</button>
    </div>

    <input type="file" id="fileUpload">
    <script>
        $('input[type=file]').change(function () {
      console.log(this.files[0])
})
    </script>
</body>

</html>